var aria=aria||{};window.addEventListener('load',function(){new aria.g(document.getElementById('ex').querySelector('[role="grid"]'));});aria._g_={r:'[class="row"]',c:'[role="gridcell"]'};aria.k={l:37,u:38,r:39,d:40};aria.g=function(_g){this._g=_g;this.w=this._g.hasAttribute('data-wrap-cols');aria.Utils.b(this,'c');this.s();this.f(0,0);this.r();};aria.g.prototype.s=function(){this.g=[];Array.prototype.forEach.call(this._g.querySelectorAll(aria._g_.r),(function(r){var rc=[];Array.prototype.forEach.call(r.querySelectorAll(aria._g_.c),(function(ce){var fs='[tabindex]';var fc=ce.querySelector(fs);if(fc){rc.push(fc);}}).bind(this));if(rc.length){this.g.push(rc);}}).bind(this));};aria.g.prototype.fp=function(r,c){if(!this.v(r,c)){return false;}if(!isNaN(this.fr)&&!isNaN(this.fc)){this.g[this.fr][this.fc].setAttribute('tabindex',-1);}this.g[r][c].setAttribute('tabindex',0);this.fr=r;this.fc=c;return true;};aria.g.prototype.v=function(r,c){return(!isNaN(r)&&!isNaN(c)&&r>=0&&c>=0&&this.g&&this.g.length&&r<this.g.length&&c<this.g[r].length);};aria.g.prototype.r=function(){this._g.addEventListener('keydown',this.c);};aria.g.prototype.f=function(r,c){if(this.fp(r,c)){this.g[r][c].focus();}};aria.g.prototype.c=function(event){var k=event.which||event.keyCode;var rc=this.fr;var cc=this.fc;var nc;switch(k){case aria.k.u:nc=this.gnc(this.fr,this.fc,0,-1);rc=nc.r;cc=nc.c;break;case aria.k.d:nc=this.gnc(this.fr,this.fc,0,1);rc=nc.r;cc=nc.c;break;case aria.k.l:nc=this.gnc(this.fr,this.fc,-1,0);rc=nc.r;cc=nc.c;break;case aria.k.r:nc=this.gnc(this.fr,this.fc,1,0);rc=nc.r;cc=nc.c;break;default:return;}this.f(rc,cc);};aria.g.prototype.gnc=function(rr,cc,x,y){var r=rr+y;var c=cc+x;var rc=this.g.length;var lr=x!==0;if(!rc){return false;}var cc=this.g[0].length;if(this.w&&lr){if(c<0){c=cc-1;r--;}if(c>=cc){c=0;r++;}}if(this.v(r,c)){return{r:r,c:c};}else if(this.v(rr,cc)){return{r:rr,c:cc};}else{return false;}};aria.Utils=aria.Utils||{};aria.Utils.b=function(o){var n=Array.prototype.slice.call(arguments,1);n.forEach(function(m){o[m]=o[m].bind(o);});};